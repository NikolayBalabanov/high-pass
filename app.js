"use strict";var burgerBtn=document.querySelector(".burger"),burgerCloseBtn=document.querySelector(".burger-close"),navLinks=document.querySelectorAll(".nav__link"),nav=document.querySelector(".nav"),burgerActive="burger--active",navActive="nav--active";burgerBtn.addEventListener("click",(function(){burgerBtn.classList.toggle(burgerActive),nav.classList.toggle(navActive),document.body.classList.toggle("stop-scroll")})),burgerCloseBtn.addEventListener("click",(function(){burgerBtn.classList.remove(burgerActive),nav.classList.remove(navActive),document.body.classList.remove("stop-scroll")})),navLinks.forEach((function(e){e.addEventListener("click",(function(){burgerBtn.classList.remove(burgerActive),nav.classList.remove(navActive),document.body.classList.remove("stop-scroll")}))}));var aboutEmail=document.querySelector(".about-form__input"),aboutBtn=document.querySelector(".about-form__submit"),aboutForm=document.querySelector(".about-form"),aboutInputWrap=document.querySelector(".about-form__subscribe"),contactsForm=document.querySelector(".contacts-form"),contactsName=document.querySelector('input[name="name"]'),contactsEmail=document.querySelector('input[name="email"]'),contactsText=document.querySelector(".contacts-form__textarea"),contactsNameLabel=document.querySelector(".contacts-form__label-name"),contactsEmailLabel=document.querySelector(".contacts-form__label-email"),contactsTextLabel=document.querySelector(".contacts-form__label-text"),nameErrorNotice="Имя и фамилия",emailErrorNotice="Неверный формат",textErrorNotice="Неменее 15 символов",aboutErrNotice="Неверный формат",createErrorNotice=function(e,t){var a=document.createElement("div");a.classList.add("error-notice"),a.textContent=t,e.append(a)},isValidEmail=function(e){return!!e&&/^(|(([A-Za-z0-9]+_+)|([A-Za-z0-9]+\-+)|([A-Za-z0-9]+\.+)|([A-Za-z0-9]+\++))*[A-Za-z0-9]+@((\w+\-+)|(\w+\.))*\w{1,63}\.[a-zA-Z]{2,6})$/i.test(e)},isValidName=function(e){return e.split(" ").length>=2&&e.split(" ").every((function(e){return e.length>2}))},isValidText=function(e){return e.length>15},clearInputError=function(e){var t=e.querySelector(".error-notice");t&&t.remove()},checkInput=function(e,t,a,o){return!!e(t.value.trim())||(createErrorNotice(a,o),aboutBtn.disabled=!0,!1)},enableSubmit=function(){isValidName(contactsName.value.trim())&&isValidEmail(contactsEmail.value.trim())&&isValidText(contactsText.value.trim())&&(aboutBtn.disabled=!1)};aboutForm.addEventListener("submit",(function(e){e.preventDefault(),checkInput(isValidEmail,aboutEmail,aboutInputWrap,aboutErrNotice)})),aboutEmail.addEventListener("focus",(function(){clearInputError(aboutInputWrap)})),aboutEmail.addEventListener("input",(function(){isValidEmail(aboutEmail.value.trim())&&(aboutBtn.disabled=!1)})),contactsForm.addEventListener("submit",(function(e){e.preventDefault(),checkInput(isValidName,contactsName,contactsNameLabel,nameErrorNotice)&&checkInput(isValidEmail,contactsEmail,contactsEmailLabel,emailErrorNotice)&&checkInput(isValidText,contactsText,contactsTextLabel,textErrorNotice)?console.log("Отправлено!"):(checkInput(isValidName,contactsName,contactsNameLabel,nameErrorNotice),checkInput(isValidEmail,contactsEmail,contactsEmailLabel,emailErrorNotice),checkInput(isValidText,contactsText,contactsTextLabel,textErrorNotice))})),contactsName.addEventListener("input",(function(){isValidName(contactsName.value.trim())&&clearInputError(contactsNameLabel),enableSubmit()})),contactsEmail.addEventListener("input",(function(){isValidEmail(contactsEmail.value.trim())&&clearInputError(contactsEmailLabel),enableSubmit()})),contactsText.addEventListener("input",(function(){isValidText(contactsText.value.trim())&&clearInputError(contactsTextLabel),enableSubmit()})),document.addEventListener("DOMContentLoaded",(function(){var e=0,t=document.querySelector(".contacts__map");new IntersectionObserver((function(a){if(a[0].isIntersecting&&t&&0===e){ymaps.ready((function(){var e=new ymaps.Map(t,{center:[55.759729459621795,37.61865977246095],zoom:13,controls:["geolocationControl","zoomControl"]},{suppressMapOpenBlock:!0,geolocationControlSize:"large",geolocationControlPosition:{top:"200px",right:"20px"},geolocationControlFloat:"none",zoomControlSize:"small",zoomControlFloat:"none",zoomControlPosition:{top:"120px",right:"20px"}});e.behaviors.disable("scrollZoom");var a=new ymaps.Placemark([55.769389,37.647367],{},{iconLayout:"default#image",iconImageHref:"images/map-mark.svg",iconImageSize:[12,12],iconImageOffset:[-2,-2]});e.geoObjects.add(a)})),e=1}}),{rootMargin:"500px"}).observe(t)})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".notice"),t=document.querySelector(".notice__close");t.addEventListener("click",(function(){e.classList.toggle("notice--close"),t.classList.toggle("open")}))}));var searchClose=document.querySelector(".search-bar__close"),searchOpen=document.querySelector(".search-btn"),searchBar=document.querySelector(".search-bar"),search=document.querySelector(".search-bar__search"),searchActive="search-bar--active";searchOpen.addEventListener("click",(function(){searchBar.classList.add(searchActive)})),searchClose.addEventListener("click",(function(){searchBar.classList.remove(searchActive)})),window.addEventListener("click",(function(e){e.target!==search&&e.target!==searchOpen&&searchBar.classList.contains(searchActive)&&searchBar.classList.remove(searchActive)}));var obj={},prop=null==obj?void 0:obj.prop;